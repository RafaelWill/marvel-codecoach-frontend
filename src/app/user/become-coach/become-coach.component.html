<div class="min-vh-100">
  <div class="nav-content yellow darken-2">
    <div class="container">
      <ul class="tabs tabs-transparent">
        <li class="tab"><a class="black-text text-darken-2">My Profile</a></li>
        <li class="tab"><a class="grey-text text-darken-2" routerLink="../../coaches">Find a coach</a></li>
      </ul>
    </div>
  </div>

  <div class="row">

  <div class="col-3 s12 m2">
    <div class="content-container">
      <h6>My Profile</h6>
      <div class="collection">
        <a routerLink="../../{{person?.id}}" class="collection-item grey-text text-darken-2">Profile Information</a>
<!--        <a class="collection-item grey-text text-darken-2">Coaching sessions</a>-->
        <a class="collection-item black-text active yellow darken-2">Apply to become a coach</a>
      </div>
    </div>
  </div>

    <div class="col-9 s12 2">
      <div class="content-container">
        <section class="card-panel grey lighten-5">
          <h5>Apply to become a coach</h5>
          <div class="divider"></div>
          <form [formGroup]="becomeCoachForm" (ngSubmit)="submit()">
            <div class="row">
              <div class="col s12">
                <div class="input-field col s12">
                  <textarea id="motivation" class="materialize-textarea" data-length="255" formControlName="motivation"
                            [ngClass]="{'is-invalid':fc('motivation')?.errors
                              && (fc('motivation')?.dirty
                              || fc('motivation')?.touched)
                              || hasSubmitFailed}"></textarea>
                  <label for="motivation">Motivation</label>
                  <div class="invalid-feedback mb-2" *ngIf="fc('motivation')?.errors">
                    Motivation is required.
                  </div>
                </div>
                <div class="col s12 p-0">
                  <div class="input-field col s6">
                    <input id="topic" type="text" formControlName="topic" [ngClass]="{'is-invalid':fc('topic')?.errors
                        && (fc('topic')?.dirty || fc('topic')?.touched) || hasSubmitFailed}">
                    <label for="topic">Topic</label>
                    <div class="invalid-feedback mb-2" *ngIf="fc('topic')?.errors">
                      Topic is required.
                    </div>
                  </div>
                  <div class="input-field col s6">
                    <select class="mb-3" style="display: block" id="grade" formControlName="grade" [ngClass]="{'is-invalid':fc('grade')?.errors
                               && (fc('grade')?.dirty || fc('grade')?.touched) || hasSubmitFailed}">
                      <option value="" disabled selected>Choose your grade</option>
                      <option *ngFor="let grade of [1,2,3,4,5,6]" [value]="grade"> {{grade}}</option>
                    </select>
                    <div class="invalid-feedback mb-2" *ngIf="fc('grade')?.errors">
                      Grade is required.
                    </div>
                  </div>
                </div>
                <div class="col s12 p-0"
                     *ngFor="let topic of extraTopics?.controls;
                             let grade of extraGrades?.controls;
                             let i=index">
                  <div>
                    <div formArrayName="extraTopics" class="input-field col s6">
                      <input type="text"
                             [formControlName]="i"
                             [ngClass]="{'is-invalid':fc('extraTopics.' + i)?.errors
                              && (fc('extraTopics.' + i)?.dirty
                                || fc('extraTopics.' + i)?.touched)
                                || hasSubmitFailed}">
                      <label [htmlFor]="i">Topic</label>
                      <div class="invalid-feedback mb-2" *ngIf="fc('extraTopics.' + i)?.errors">
                        Topic is required.
                      </div>
                    </div>
                    <div formArrayName="extraGrades" class="input-field col s6">
                      <select class="mb-2" style="display: block" [formControlName]="i"
                              [ngClass]="{'is-invalid':fc('extraGrades.' + i)?.errors
                              && (fc('extraGrades.' + i)?.dirty
                                || fc('extraGrades.' + i)?.touched)
                                || hasSubmitFailed}">>
                        <option value="" disabled selected>Choose your grade</option>
                        <option *ngFor="let grade of [1,2,3,4,5,6]" [value]="grade"> {{grade}}</option>
                      </select>
                      <div class="invalid-feedback mb-2" *ngIf="fc('extraGrades.' + i)?.errors">
                        Grade is required.
                      </div>
                    </div>
                  </div>
                </div>
                <button type="button" class="waves-effect waves-light btn-small yellow darken-2 black-text"
                        (click)="addSlot()">
                  Add topic
                </button>
                <button *ngIf="extraTopics.length != 0" type="button"
                        class="ml-1 waves-effect waves-light btn-small yellow darken-2 black-text"
                        (click)="deleteSlot()">
                  Delete topic
                </button>
              </div>
            </div>
            <div class="row right-align justify-content-center">
              <button type="submit" class="waves-effect waves-light yellow darken-2 btn-large black-text">Send Email <i
                class="material-icons right">send</i></button>
            </div>
          </form>
        </section>
      </div>
    </div>
  </div>
</div>
